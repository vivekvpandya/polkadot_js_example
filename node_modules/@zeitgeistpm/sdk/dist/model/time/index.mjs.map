{"version":3,"file":"index.mjs","sources":["../../../src/model/time/index.ts"],"sourcesContent":["import { pfunc } from '@zeitgeistpm/utility/dist/pfunc'\nimport { Context, isRpcContext } from '../../context'\nimport { MetadataStorage } from '../../meta'\nimport { now, now$ } from './functions/now'\nimport { Time } from './types'\n\nexport const model = <C extends Context<MS>, MS extends MetadataStorage>(\n  ctx: C,\n): Time<C, MS> => {\n  if (isRpcContext<MS>(ctx)) {\n    return {\n      now: pfunc(() => now(ctx), {\n        $: () => now$(ctx),\n      }),\n    } as Time<typeof ctx, MS>\n  }\n  return {} as Time<typeof ctx, MS>\n}\n"],"names":[],"mappings":";;;;AAMa,MAAA,KAAK,GAAG,CACnB,GAAM,KACS;AACf,IAAA,IAAI,YAAY,CAAK,GAAG,CAAC,EAAE;QACzB,OAAO;YACL,GAAG,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,EAAE;AACzB,gBAAA,CAAC,EAAE,MAAM,IAAI,CAAC,GAAG,CAAC;aACnB,CAAC;SACqB,CAAA;AAC1B,KAAA;AACD,IAAA,OAAO,EAA0B,CAAA;AACnC;;;;"}